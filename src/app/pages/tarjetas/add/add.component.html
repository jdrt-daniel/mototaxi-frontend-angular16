<mat-card>
  <mat-card-header class="text-center">
    <mat-card-title>
      <h2>PREVISUALIZACION DE LA TARJETA</h2>
    </mat-card-title>
  </mat-card-header>
  <mat-card-content>
    <div
      *ngIf="loading; else templateElse"
      style="display: flex; align-items: center; height: calc(100dvh - 200px)"
    >
      <mat-spinner style="margin: auto"> Cargando... </mat-spinner>
    </div>
    <ng-template #templateElse>
      <div class="row">
        <div class="col-sm-12 col-md-5 py-4">
          <div class="card tarjeta border-light m-auto">
            <div class="card-header border-0 py-3 bg-transparent">
              <p
                class="text-center text-danger text-b old my-1 h-3"
                style="font-size: 1.4em"
              >
                <strong> TARJETA DE IDENTIFICACION DEL CONDUCTOR </strong>
              </p>
            </div>
            <div class="card-body border-0 h-full">
              <div class="row h-full">
                <div class="col-md-12">
                  <div class="row h-mid">
                    <div class="col-1 h-mid">
                      <div
                        style="display: inline-block; position: relative"
                        class="text-danger"
                      >
                        <div
                          style="
                            transform: rotate(-90deg);
                            position: absolute;
                            top: 90px;
                            left: -60px;
                            width: 150px;
                            font-size: 1.5em;
                          "
                        >
                          <strong>GRATUITA</strong>
                        </div>
                      </div>
                    </div>
                    <div class="col-10 text-center" style="position: relative">
                      <div
                        style="
                          position: absolute;
                          bottom: 0%;
                          left: calc(75% - 200px);
                        "
                      >
                        <img
                          src="../../../../assets/escudo.gif"
                          alt=""
                          style="width: 200px"
                        />
                      </div>
                    </div>
                    <div class="col-1 h-mid">
                      <div
                        style="display: inline-block; position: relative"
                        class="text-danger"
                      >
                        <div
                          style="
                            transform: rotate(-90deg);
                            position: absolute;
                            top: 90px;
                            left: -70px;
                            width: 150px;
                            font-size: 1.5em;
                          "
                        >
                          <strong> Nº&nbsp;&nbsp;009001 </strong>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="col-12 h-mid text-center my-2">
                    <p
                      class="m-0"
                      style="
                        font-weight: bold !important;
                        font-size: 1.5;
                        font-family: 'Arial Narrow';
                      "
                    >
                      MINISTERIO DE GOBIERNO
                    </p>
                    <p
                      class="m-0"
                      style="
                        font-weight: bold !important;
                        font-size: 1.5;
                        font-family: 'Arial Narrow';
                      "
                    >
                      VICEMINISTERIO DE SEGURIDAD CIUDADANA
                    </p>
                    <p
                      class="m-0"
                      style="
                        font-weight: bold !important;
                        font-size: 1.5;
                        font-family: 'Arial Narrow';
                      "
                    >
                      ESTADO PLURINACIONAL DE BOLIVIA
                    </p>
                  </div>
                </div>
              </div>
            </div>
            <div class="card-footer border-0 bg-transparent">
              <p
                style="
                  font-size: 0.6em;
                  line-height: 1;
                  padding: 0.6em;
                  text-align: center;
                "
              >
                DE ACUERDO AL ART. 134 DEL CNT CONCORDANTE CON EL ART. 228 DEL
                REGLAMENTO DE TRANSITO. EL ORGANISMO OPERATIVO DE TRANSITO
                MEDIANTE LA DIVISION SERVICIOS PÚBLICOS ESTABLECE EL REGISTRO DE
                LOS CONDUCTORES Y MOTORIZADOS
              </p>
              <div
                style="
                  border: 3px solid #9a9c9a;
                  border-radius: 30px;
                  padding: 1em;
                  font-size: 0.6em;
                  font-weight: bold;
                  text-align: center;
                  width: 400px;
                  margin: auto;
                "
              >
                LA FALSIFICACION TOTAL O PARCIAL DE ESTE DOCUMENTO. <br />
                SERÁ SANCIONADA DE ACUERDO A NORMAVITA LEGAL VIGENTE
              </div>
              <br />
            </div>
          </div>
        </div>
        <div class="col-sm-12 col-md-5 py-4">
          <div class="card tarjeta border-light m-auto">
            <div class="card-header border-0 pt-3 bg-transparent">
              <p class="text-center" style="text-decoration: underline">
                REGISTRO NACIONAL DE CONDUCTOR DE TRANSPORTE PUBLICO
              </p>
              <p class="text-center my-1 h-3" style="font-size: 1.4em">
                <strong> TARJETA DE IDENTIFICACION DEL CONDUCTOR </strong>
                <br />
                La Paz
              </p>
            </div>
            <div class="card-body border-0 h-full py-0">
              <div class="row h-full">
                <div class="col-md-12">
                  <div class="row">
                    <div class="col-3 px-3">
                      <div>
                        <p
                          style="
                            text-align: center;
                            font-weight: 500 !important;
                          "
                        >
                          CATEGORIA
                        </p>
                        <br />
                        <br />
                        <p
                          style="
                            font-size: 7em;
                            text-align: center;
                            font-weight: bold !important;
                          "
                        >
                          {{ user.cat_licencia }}
                        </p>
                      </div>
                    </div>
                    <div class="col-6 text-center">
                      <img
                        src="{{ user.fotografia }}"
                        alt=""
                        style="
                          width: 200px;
                          border-radius: 10px;
                          box-shadow: 0px 0px 5px #9a9c9a;
                        "
                      />
                    </div>
                    <div class="col-3 text-center">
                      <div>
                        <p
                          style="
                            font-size: 0.6em;
                            font-weight: 500 !important;
                            line-height: 0.9em;
                          "
                        >
                          NUMERO DE LICENCIA
                        </p>
                        <p
                          style="
                            font-size: 1.3em;
                            text-align: center;
                            font-weight: bold !important;
                          "
                        >
                          {{ user.licencia }}
                        </p>
                        <p
                          style="font-size: 0.6em; font-weight: 500 !important"
                        >
                          TIPO DE SANGRE
                        </p>
                        <p
                          style="
                            font-size: 2em;
                            text-align: center;
                            font-weight: bold !important;
                          "
                        >
                          {{ user.tipo_sangre }}
                        </p>
                      </div>
                    </div>
                  </div>

                  <div class="col-12 text-center my-2">
                    <p
                      class="m-0 text-uppercase"
                      style="
                        font-weight: bold !important;
                        font-size: 2;
                        line-height: 1em;
                      "
                    >
                      {{ user.nombres }} <br />
                      {{ user.paterno }} {{ user.materno }}
                    </p>
                  </div>
                  <div class="col-12 text-center">
                    <qr-code
                      value="http://localhost:4200/conductor/{{ user.id }}"
                      size="200"
                      errorCorrectionLevel="H"
                    ></qr-code>
                    <p>* TAXI LIBRE *</p>
                  </div>
                </div>
              </div>
            </div>
            <div class="card-footer border-0 footer-bg">
              <div class="row">
                <div class="col-6">
                  <div class="d-inline">
                    <img
                      src="../../../../assets/escudo.gif"
                      style="width: 50px"
                    />
                  </div>
                </div>
                <div class="col-6">
                  <img
                    src="../../../../assets/pb.png"
                    style="width: 50px"
                    class="d-inline"
                  />
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="col-sm-12 col-md-2 p-4">
          <div class="d-grid gap-2">
            <button
              class="btn btn-primary btn-print"
              type="button"
              printSectionId="print-section"
              ngxPrint
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="20"
                height="29"
                fill="currentColor"
                class="bi bi-printer"
                viewBox="0 0 16 16"
              >
                <path d="M2.5 8a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1z" />
                <path
                  d="M5 1a2 2 0 0 0-2 2v2H2a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2h1v1a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-1h1a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-1V3a2 2 0 0 0-2-2H5zM4 3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v2H4V3zm1 5a2 2 0 0 0-2 2v1H2a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-1v-1a2 2 0 0 0-2-2H5zm7 2v3a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1z"
                />
              </svg>
              &nbsp; IMPRIMIR
            </button>
            <button class="btn btn-primary btn-share" type="button">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="20"
                height="20"
                fill="currentColor"
                class="bi bi-share"
                viewBox="0 0 16 16"
              >
                <path
                  d="M13.5 1a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zM11 2.5a2.5 2.5 0 1 1 .603 1.628l-6.718 3.12a2.499 2.499 0 0 1 0 1.504l6.718 3.12a2.5 2.5 0 1 1-.488.876l-6.718-3.12a2.5 2.5 0 1 1 0-3.256l6.718-3.12A2.5 2.5 0 0 1 11 2.5zm-8.5 4a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zm11 5.5a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3z"
                />
              </svg>
              &nbsp; COMPARTIR
            </button>
          </div>
        </div>
      </div>
    </ng-template>
  </mat-card-content>
</mat-card>

<div id="print-section">
  <div
    style="
      height: 14cm;
      width: 10.5cm;
      border: 1px solid #efefef;
      font-family: Arial, Helvetica, sans-serif;
    "
  >
    <div style="height: 1.8cm"></div>
    <div style="height: 5cm; display: flex">
      <div style="width: 3cm; padding: 0.7em">
        <p
          style="text-align: center; font-weight: bold !important; margin: 0px"
        >
          CATEGORIA
        </p>
        <p
          style="
            font-size: 5em;
            text-align: center;
            font-weight: bold !important;
            margin: 0px;
          "
        >
          {{ user.cat_licencia }}
        </p>
      </div>
      <div style="width: 4cm; height: 4cm; text-align: center">
        <img
          src="{{ user.fotografia }}"
          alt=""
          style="
            width: 3.5cm;
            height: 3.5cm;
            border-radius: 10px;
            box-shadow: 0px 0px 5px #9a9c9a;
          "
        />
        <p
          style="
            font-weight: bold !important;
            font-size: 1em;
            line-height: 1em;
            text-align: center;
            margin-top: 10px;
          "
        >
          {{ user.nombres }} <br />
          {{ user.paterno }} {{ user.materno }}
        </p>
      </div>
      <div style="width: 3cm; padding: 0.7em">
        <p
          style="
            font-size: 0.5em;
            font-weight: bold !important;
            line-height: 0.9em;
            margin: 0px;
          "
        >
          NUMERO DE LICENCIA
        </p>
        <p
          style="
            font-size: 1em;
            font-weight: bold !important;
            margin: 10px;
            text-align: left;
          "
        >
          {{ user.licencia }}
        </p>
        <p style="font-size: 0.6em; font-weight: bold !important ; margin: 0px">
          TIPO DE SANGRE
        </p>
        <p
          style="
            font-size: 2em;
            text-align: center;
            font-weight: bold !important;
            margin: 20px;
          "
        >
          {{ user.tipo_sangre }}
        </p>
      </div>
    </div>
    <div style="height: 4cm">
      <div style="text-align: center">
        <qr-code
          value="http://localhost:4200/conductor/{{ user.id }}"
          size="150"
          errorCorrectionLevel="H"
        ></qr-code>
      </div>
    </div>
  </div>
</div>
